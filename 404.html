<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路径丢失 | 404</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-purple: #b967ff;
            --neon-pink: #ff2ac3;
            --light-space: #121230;
            --matrix-green: #00ff41;
            --text-glow: 0 0 12px var(--neon-blue), 0 0 24px rgba(0, 243, 255, 0.6);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0a0a20 0%, #121240 50%, #1a1a50 100%);
            color: #f0f8ff;
            min-height: 100vh;
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        /* 动态粒子画布 */
        #particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* 主容器 */
        .container {
            position: relative;
            z-index: 10;
            max-width: 900px;
            width: 100%;
            background: rgba(20, 25, 60, 0.75);
            backdrop-filter: blur(15px);
            border-radius: 24px;
            border: 1px solid rgba(0, 243, 255, 0.4);
            padding: 50px 40px;
            text-align: center;
            box-shadow: 
                0 0 60px rgba(0, 243, 255, 0.25),
                inset 0 0 40px rgba(0, 20, 40, 0.5);
            overflow: hidden;
        }

        /* 扫描线效果 */
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--neon-blue), var(--neon-pink), transparent);
            animation: scanline 3s linear infinite;
            z-index: 12;
            filter: blur(1px);
        }

        /* 标题区域 */
        .title-section {
            margin-bottom: 30px;
            position: relative;
        }

        .glitch-tech {
            font-family: 'Orbitron', sans-serif;
            font-size: 9rem;
            font-weight: 900;
            color: #ffffff;
            position: relative;
            letter-spacing: 10px;
            text-transform: uppercase;
            margin-bottom: 15px;
            text-shadow: var(--text-glow);
        }

        .glitch-tech::before,
        .glitch-tech::after {
            content: '404';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .glitch-tech::before {
            animation: glitch-tech-1 1.8s infinite linear alternate-reverse;
            color: var(--neon-blue);
            z-index: -1;
            filter: blur(1px);
        }

        .glitch-tech::after {
            animation: glitch-tech-2 2.2s infinite linear alternate-reverse;
            color: var(--neon-pink);
            z-index: -2;
            filter: blur(2px);
        }

        @keyframes glitch-tech-1 {
            0%, 100% { 
                clip-path: inset(10% 0 70% 0); 
                transform: translate(-8px, 4px); 
                opacity: 0.9;
            }
            25% { 
                clip-path: inset(75% 0 5% 0); 
                transform: translate(6px, -5px); 
                opacity: 0.8;
            }
            50% { 
                clip-path: inset(5% 0 85% 0); 
                transform: translate(-5px, 3px); 
                opacity: 0.9;
            }
            75% { 
                clip-path: inset(60% 0 20% 0); 
                transform: translate(7px, -3px); 
                opacity: 0.8;
            }
        }

        @keyframes glitch-tech-2 {
            0%, 100% { 
                clip-path: inset(70% 0 15% 0); 
                transform: translate(6px, -4px); 
                opacity: 0.8;
            }
            25% { 
                clip-path: inset(15% 0 75% 0); 
                transform: translate(-7px, 5px); 
                opacity: 0.9;
            }
            50% { 
                clip-path: inset(85% 0 5% 0); 
                transform: translate(4px, -3px); 
                opacity: 0.8;
            }
            75% { 
                clip-path: inset(25% 0 65% 0); 
                transform: translate(-6px, 4px); 
                opacity: 0.9;
            }
        }

        .subtitle-tech {
            font-size: 1.6rem;
            color: #a8feff;
            font-weight: 600;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-top: -10px;
            text-shadow: 0 0 15px rgba(168, 254, 255, 0.8);
        }

        /* 信息显示面板 */
        .info-panel {
            background: rgba(10, 20, 50, 0.7);
            border: 1px solid rgba(0, 243, 255, 0.4);
            border-radius: 16px;
            padding: 35px 40px 55px 40px;
            margin: 40px auto;
            max-width: 800px;
            position: relative;
            text-align: left;
            min-height: 220px;
            display: flex;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* 语录显示区域 */
        .quote-display {
            font-size: 1.6rem;
            line-height: 1.8;
            color: #f0f8ff;
            width: 100%;
            min-height: 140px;
            font-weight: 500;
            position: relative;
            padding-bottom: 25px;
        }

        /* 打字机光标效果 */
        .typing-cursor {
            display: inline-block;
            width: 4px;
            height: 1.8rem;
            background-color: var(--neon-blue);
            margin-left: 5px;
            animation: cursor-blink 0.8s infinite;
            vertical-align: middle;
            box-shadow: 0 0 8px var(--neon-blue);
        }

        @keyframes cursor-blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        /* 落款样式 - 与正文统一 */
        .quote-signature {
            position: absolute;
            bottom: 0;
            right: 0;
            color: rgba(240, 248, 255, 0.85);
            font-size: 1.3rem;
            font-style: italic;
            font-weight: 400;
            font-family: 'Rajdhani', sans-serif;
            line-height: 1.6;
            text-align: right;
            padding: 8px 0 0 20px;
            background: none;
            border: none;
            border-radius: 0;
            animation: none;
            opacity: 0.9;
            letter-spacing: 0.5px;
        }

        /* 刷新按钮 - 外部位置不遮挡光标 */
        .refresh-quote-btn {
            position: absolute;
            top: -25px;
            right: -25px;
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: rgba(0, 243, 255, 0.2);
            border: 2px solid rgba(0, 243, 255, 0.6);
            color: var(--neon-blue);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            transition: all 0.4s ease;
            z-index: 25;
            backdrop-filter: blur(8px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
        }

        .refresh-quote-btn:hover {
            background: rgba(0, 243, 255, 0.35);
            border-color: var(--neon-blue);
            transform: rotate(180deg) scale(1.1);
            box-shadow: 0 0 35px rgba(0, 243, 255, 0.8);
            top: -28px;
            right: -28px;
        }

        /* 全屏逃跑按钮 - 基础样式 */
        #runaway-btn {
            padding: 22px 45px;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.25), rgba(185, 103, 255, 0.25));
            color: white;
            border: 2px solid rgba(0, 243, 255, 0.6);
            border-radius: 70px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: fixed;
            box-shadow: 
                0 0 40px rgba(0, 243, 255, 0.4),
                inset 0 0 20px rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            z-index: 100;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 2px;
            text-transform: uppercase;
            backdrop-filter: blur(10px);
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        #runaway-btn:hover {
            background: linear-gradient(135deg, rgba(0, 243, 255, 0.4), rgba(185, 103, 255, 0.4));
            border-color: var(--neon-blue);
            box-shadow: 
                0 0 60px rgba(0, 243, 255, 0.7),
                inset 0 0 30px rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%) scale(1.05);
        }

        #runaway-btn i {
            margin-right: 15px;
            font-size: 1.3em;
        }

        /* 操作按钮 */
        .actions {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 25px;
            margin-top: 40px;
        }

        .action-btn {
            padding: 18px 38px;
            background: rgba(0, 40, 80, 0.6);
            border: 2px solid rgba(0, 243, 255, 0.4);
            border-radius: 12px;
            color: #f0f8ff;
            text-decoration: none;
            font-weight: 700;
            display: inline-flex;
            align-items: center;
            transition: all 0.3s ease;
            font-family: 'Rajdhani', sans-serif;
            letter-spacing: 1.5px;
            font-size: 1.1rem;
        }

        .action-btn:hover {
            background: rgba(0, 60, 120, 0.8);
            border-color: var(--neon-blue);
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 243, 255, 0.3);
        }

        .action-btn i {
            margin-right: 12px;
            font-size: 1.2em;
        }

        .btn-home {
            background: linear-gradient(135deg, rgba(0, 150, 255, 0.4), rgba(0, 243, 255, 0.4));
            border: 2px solid rgba(0, 200, 255, 0.6);
        }

        /* 页脚 */
        footer {
            margin-top: 60px;
            color: #8bbcd8;
            font-size: 1rem;
            letter-spacing: 0.8px;
        }

        .hint {
            margin-top: 10px;
            font-size: 0.9rem;
            color: #6a9bb8;
            font-style: italic;
        }

        /* 动画定义 */
        @keyframes scanline {
            0% { left: -100%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { left: 200%; opacity: 0; }
        }

        /* 窄屏响应式设计 */
        @media (max-width: 768px) {
            .glitch-tech { 
                font-size: 5.5rem; 
                letter-spacing: 6px; 
            }
            .subtitle-tech { 
                font-size: 1.2rem; 
            }
            .info-panel { 
                padding: 25px 25px 45px 25px;
                min-height: 200px; 
            }
            .quote-display { 
                font-size: 1.3rem; 
                min-height: 120px; 
            }
            .quote-signature { 
                font-size: 1.1rem; 
                padding: 6px 0 0 15px;
                right: 5px;
            }
            .container { 
                padding: 35px 25px; 
            }
            .actions { 
                flex-direction: column; 
                align-items: center; 
            }
            .action-btn { 
                width: 100%; 
                max-width: 320px; 
                justify-content: center; 
            }
            
            /* 窄屏下缩小逃跑按钮 */
            #runaway-btn {
                padding: 12px 24px;
                font-size: 1rem;
                border-width: 1.5px;
                backdrop-filter: blur(5px);
                min-width: 160px;
                max-width: 200px;
                white-space: nowrap;
                left: 50% !important;
                top: 50% !important;
                transform: translate(-50%, -50%) !important;
            }
            
            #runaway-btn i {
                margin-right: 8px;
                font-size: 0.9em;
            }
            
            .refresh-quote-btn {
                width: 45px;
                height: 45px;
                font-size: 1.2rem;
                top: -20px;
                right: -20px;
            }
            
            .refresh-quote-btn:hover {
                top: -22px;
                right: -22px;
            }
        }
    </style>
</head>
<body>
    <!-- 动态粒子画布 -->
    <canvas id="particles-canvas"></canvas>

    <div class="container">
        <div class="title-section">
            <h1 class="glitch-tech">404</h1>
            <p class="subtitle-tech"><i class="fas fa-satellite-dish"></i> 信号中断 · 全屏逃脱模式已激活</p>
        </div>

        <!-- 信息面板 -->
        <div class="info-panel">
            <!-- 刷新语录按钮 -->
            <button class="refresh-quote-btn" id="refreshQuoteBtn" title="换一句语录">
                <i class="fas fa-sync-alt"></i>
            </button>
            
            <!-- 语录显示区域 -->
            <div class="quote-display" id="quoteDisplay">
                <!-- 打字机动效将在此显示 -->
            </div>
            <!-- 统一样式落款 -->
            <div class="quote-signature">——深空网络响应</div>
        </div>

        <!-- 操作按钮 -->
        <div class="actions">
            <a href="/" class="action-btn btn-home">
                <i class="fas fa-window-restore"></i> 返回主界面
            </a>
            <a href="javascript:history.back()" class="action-btn">
                <i class="fas fa-arrow-circle-left"></i> 重新路由
            </a>
            <a href="mailto:your-email@example.com" class="action-btn">
                <i class="fas fa-terminal"></i> 联系管理员
            </a>
        </div>

        <footer>
            <p>© <span id="currentYear"></span> 深空网络协议 | 错误日志 #<span id="errorCode"></span></p>
            <p class="hint"><i class="fas fa-gamepad"></i> 提示：中央按钮可在全屏幕自由移动，试试追捕它！</p>
        </footer>
    </div>

    <!-- 全屏逃跑按钮 -->
    <button id="runaway-btn">
        <i class="fas fa-crosshairs"></i> 来抓我啊！
    </button>

    <script>
        // ========== 初始化 ==========
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        document.getElementById('errorCode').textContent = Math.floor(Math.random() * 9000) + 1000;

        // ========== 语录库 ==========
        const quotes = [
            "页面不见了？很正常，智者向内寻求力量。",
            "这个页面可能去追求自由和远方了，就像你一直想的那样。",
            "别找了，不存在的页面就像你明天要早起一样虚无。",
            "404不是错误，是一次意外的数字冥想。",
            "你发现了一个开发者都没发现的隐藏关卡，可惜没奖励。",
            "这里什么都没有，除了你浪费的这几秒钟。珍惜它。",
            "错误代码：404。深层含义：给你一个冷静思考人生的机会。",
            "错误404：宇宙是沉默的，但你的点击在此产生了回响。",
            "这个页面存在于另一个概率云中。观测行为导致了它的坍缩。",
            "协议连接超时。服务器回应：'意义本身在此处也是404。'",
            "你发现了一个空指针。伟大的探索总是从面对虚无开始。",
            "路径解析失败。但失败本身，是宇宙最可靠的常数之一。",
            "页面未找到。这或许证明了，虚无是存在的终极形式。",
            "你访问的坐标是空的。但空，不正是所有可能性的起点吗？",
            "404。一个完美的错误，存在于这个不完美的数字世界。",
            "这里什么也没有。但‘没有’本身，不正是一个有趣的东西吗？",
            "别找了。这个页面比你明天的计划还要虚无。"
        ];

        // ========== 打字机核心函数 ==========
        let currentTypingTimeout = null;
        let currentQuoteIndex = 0;

        function typeWriter(text, element, speed = 35) {
            if (currentTypingTimeout) {
                clearTimeout(currentTypingTimeout);
            }
            
            element.innerHTML = '';
            let i = 0;
            
            function type() {
                if (i < text.length) {
                    element.innerHTML = text.substring(0, i + 1) + '<span class="typing-cursor"></span>';
                    i++;
                    currentTypingTimeout = setTimeout(type, speed);
                } else {
                    element.innerHTML = text + '<span class="typing-cursor"></span>';
                }
            }
            
            type();
        }

        function showRandomQuote() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * quotes.length);
            } while (newIndex === currentQuoteIndex && quotes.length > 1);
            
            currentQuoteIndex = newIndex;
            const quoteElement = document.getElementById('quoteDisplay');
            typeWriter(quotes[currentQuoteIndex], quoteElement, 25);
        }

        // ========== 明亮的粒子系统 ==========
        function initParticles() {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            const particleCount = 120;

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2.5 + 0.8;
                    this.speedX = (Math.random() - 0.5) * 0.8;
                    this.speedY = (Math.random() - 0.5) * 0.8;
                    this.color = Math.random() > 0.7 ? 'rgba(185, 103, 255, 0.7)' : 'rgba(0, 243, 255, 0.7)';
                    this.alpha = Math.random() * 0.6 + 0.3;
                    this.waveOffset = Math.random() * Math.PI * 2;
                }
                
                update() {
                    this.waveOffset += 0.05;
                    this.x += this.speedX + Math.sin(this.waveOffset) * 0.3;
                    this.y += this.speedY + Math.cos(this.waveOffset) * 0.3;
                    
                    if (this.x > canvas.width) this.x = 0;
                    if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0;
                    if (this.y < 0) this.y = canvas.height;
                }
                
                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    
                    const gradient = ctx.createRadialGradient(
                        this.x, this.y, 0,
                        this.x, this.y, this.size * 2
                    );
                    gradient.addColorStop(0, this.color);
                    gradient.addColorStop(1, 'rgba(0, 243, 255, 0)');
                    
                    ctx.fillStyle = gradient;
                    ctx.fill();
                }
            }

            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }

            function animateParticles() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const gradient = ctx.createRadialGradient(
                    canvas.width/2, canvas.height/2, 0,
                    canvas.width/2, canvas.height/2, canvas.width
                );
                gradient.addColorStop(0, 'rgba(10, 20, 60, 0.1)');
                gradient.addColorStop(1, 'rgba(10, 10, 30, 0)');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                for (let particle of particles) {
                    particle.update();
                    particle.draw();
                }
                
                requestAnimationFrame(animateParticles);
            }
            
            animateParticles();
        }

        // ========== 全屏逃跑按钮逻辑 ==========
        const runawayBtn = document.getElementById('runaway-btn');
        let isMoving = false;
        let escapePower = 25;

        // 检测是否为窄屏
        function isNarrowScreen() {
            return window.innerWidth <= 768;
        }

        document.addEventListener('mousemove', function(e) {
            if (!runawayBtn || isMoving) return;
            
            const btnRect = runawayBtn.getBoundingClientRect();
            const btnCenterX = btnRect.left + btnRect.width / 2;
            const btnCenterY = btnRect.top + btnRect.height / 2;
            
            const mouseX = e.clientX;
            const mouseY = e.clientY;
            
            const distance = Math.sqrt(
                Math.pow(mouseX - btnCenterX, 2) + 
                Math.pow(mouseY - btnCenterY, 2)
            );
            
            // 窄屏下增大触发距离，让按钮更"敏感"
            const triggerDist = isNarrowScreen() ? 180 : 150;
            
            if (distance < triggerDist) {
                isMoving = true;
                
                const deltaX = btnCenterX - mouseX;
                const deltaY = btnCenterY - mouseY;
                
                const length = Math.max(Math.sqrt(deltaX*deltaX + deltaY*deltaY), 0.1);
                
                // 窄屏下减小移动幅度，让按钮更容易被点击
                const moveMultiplier = isNarrowScreen() ? 10 : 15;
                const moveX = (deltaX / length) * (triggerDist - distance) / escapePower * moveMultiplier;
                const moveY = (deltaY / length) * (triggerDist - distance) / escapePower * moveMultiplier;
                
                let currentX = parseFloat(runawayBtn.style.left) || (window.innerWidth/2 - btnRect.width/2);
                let currentY = parseFloat(runawayBtn.style.top) || (window.innerHeight/2 - btnRect.height/2);
                
                let newX = currentX + moveX;
                let newY = currentY + moveY;
                
                // 窄屏下限制活动范围（中央安全区域）
                const screenPadding = isNarrowScreen() ? window.innerWidth * 0.15 : 20;
                const maxX = window.innerWidth - btnRect.width - screenPadding;
                const maxY = window.innerHeight - btnRect.height - screenPadding;
                
                newX = Math.max(screenPadding, Math.min(maxX, newX));
                newY = Math.max(screenPadding, Math.min(maxY, newY));
                
                runawayBtn.style.left = newX + 'px';
                runawayBtn.style.top = newY + 'px';
                
                // 移动时的视觉反馈
                runawayBtn.style.borderColor = 'rgba(255, 42, 195, 0.8)';
                runawayBtn.style.boxShadow = '0 0 30px rgba(255, 42, 195, 0.5)';
                
                setTimeout(() => {
                    isMoving = false;
                    runawayBtn.style.borderColor = 'rgba(0, 243, 255, 0.6)';
                    runawayBtn.style.boxShadow = '0 0 25px rgba(0, 243, 255, 0.4)';
                }, isNarrowScreen() ? 80 : 100);
            }
        });

        runawayBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            
            const originalHTML = runawayBtn.innerHTML;
            const originalBorder = runawayBtn.style.border;
            const originalShadow = runawayBtn.style.boxShadow;
            
            runawayBtn.innerHTML = '<i class="fas fa-check-circle"></i> 抓到了！';
            runawayBtn.style.border = '2px solid #00ff41';
            runawayBtn.style.boxShadow = '0 0 60px rgba(0, 255, 65, 0.8)';
            runawayBtn.style.background = 'linear-gradient(135deg, rgba(0, 255, 65, 0.3), rgba(0, 243, 255, 0.3))';
            
            showRandomQuote();
            
            let vibrationCount = 0;
            const vibrateInterval = setInterval(() => {
                if (vibrationCount < 10) {
                    const offsetX = (Math.random() - 0.5) * 6;
                    const offsetY = (Math.random() - 0.5) * 6;
                    runawayBtn.style.transform = `translate(-50%, -50%) translate(${offsetX}px, ${offsetY}px)`;
                    vibrationCount++;
                } else {
                    clearInterval(vibrateInterval);
                    runawayBtn.style.transform = 'translate(-50%, -50%)';
                }
            }, 50);
            
            setTimeout(() => {
                runawayBtn.innerHTML = originalHTML;
                runawayBtn.style.border = originalBorder;
                runawayBtn.style.boxShadow = originalShadow;
                runawayBtn.style.background = 'linear-gradient(135deg, rgba(0, 243, 255, 0.25), rgba(185, 103, 255, 0.25))';
                clearInterval(vibrateInterval);
                runawayBtn.style.transform = 'translate(-50%, -50%)';
            }, 2000);
        });

        // ========== 事件绑定 ==========
        document.getElementById('refreshQuoteBtn').addEventListener('click', showRandomQuote);
        
        window.addEventListener('load', () => {
            initParticles();
            showRandomQuote();
            
            // 窗口大小变化时重新调整
            window.addEventListener('resize', function() {
                if (isNarrowScreen()) {
                    // 窄屏下确保按钮回到中央
                    runawayBtn.style.left = '50%';
                    runawayBtn.style.top = '50%';
                    runawayBtn.style.transform = 'translate(-50%, -50%)';
                }
            });
        });

        // ========== 按钮波纹效果 ==========
        document.querySelectorAll('.action-btn, .refresh-quote-btn, #runaway-btn').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;

                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(0, 243, 255, 0.6);
                    transform: scale(0);
                    animation: ripple 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    top: ${y}px;
                    left: ${x}px;
                    pointer-events: none;
                    z-index: 1;
                `;

                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        });

        const rippleStyle = document.createElement('style');
        rippleStyle.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(rippleStyle);

        // 防止按钮被拖到屏幕外（辅助功能）
        setInterval(() => {
            if (!runawayBtn) return;
            
            const btnRect = runawayBtn.getBoundingClientRect();
            const margin = isNarrowScreen() ? 30 : 10;
            
            if (btnRect.left < margin || btnRect.top < margin || 
                btnRect.right > window.innerWidth - margin || 
                btnRect.bottom > window.innerHeight - margin) {
                
                runawayBtn.style.left = '50%';
                runawayBtn.style.top = '50%';
                runawayBtn.style.transform = 'translate(-50%, -50%)';
            }
        }, 1000);
    </script>
</body>
</html>